{% extends "shared/layout.html" %}

{% block content %}

<div class="text-center">
    <form action="/speaker" method="post">
        <div>
            <h2>Choose your Speaker</h2>
        </div>
        <div>
            <div>
                <img src="/static/images/loading.gif" id="loading" />
                <select id="speaker" name="speaker" class="form-control" style="display:none">
                </select>
            </div>
        </div>
        <div>
            <br />
            <button type="submit" id="submit" disabled class="btn btn-primary btn-lg btn-block">Next</button>
            <button type="button" href="/address" class="btn btn-primary btn-lg btn-block" id="previous">Previous</button>
        </div>
    </form>
</div>

<script>
    var c = s.getSpeakers('/speakerlist', function result(d) {
        $('#submit').attr("disabled", false);;
        $('#speaker').show();
        $('#loading').hide();
        $('#speaker').append(`<option value="${d.name}"> 
                                       ${d.name} 
                                  </option>`); 
    });
</script>

    {% endblock %}
